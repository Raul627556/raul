<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuadro Simpsons</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        .card-custom {
            background-color: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 8px;
        }

        .coin-box {
            border: 2px solid #ced4da;
            border-radius: 0.25rem;
            padding: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
        }

        .coin-input {
            color: white;
        }

        .coin-input {
            border: 1px solid #ccc;
            border-radius: 4px;

        }

        .coin-input {
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #coin500 {
            background-color: rgb(122, 63, 156);
            color: white;
        }

        #coin200 {
            background-color: rgb(252, 209, 22);
        }

        #coin100 {
            background-color: rgb(0, 129, 66);
            color: white;
        }

        #coin50 {
            background-color: rgb(255, 166, 0);
        }

        #coin20 {
            background-color: rgb(0, 104, 184);
            color: white;
        }

        #coin10 {
            background-color: rgb(255, 0, 0);
            color: white;
        }

        #coin5 {
            background-color: rgb(144, 238, 144);
        }

        #coin5,
        #coin2,
        #coin1,
        #coin050,
        #coin020,
        #coin010 {
            background-color: rgb(255, 215, 0);
        }

        #coin005,
        #coin002,
        #coin001 {
            background-color: rgb(205, 127, 50);
        }

    </style>
</head>
<body>
{{ form_start(form, {'attr': {'id': 'transaction_form'}}) }}
<div class="container mt-5">
    <div class="container text-center">
        <h2>Cuadro: Los Simpsons - 145,27€</h2>
        <img src="{{ asset('uploads/simpsonsLandscape.jpg') }}" class="img-fluid mx-auto" alt="Descripción de la imagen"
             style="max-width: 300px; height: auto;">
    </div>

    {% for label, messages in app.flashes %}
        <div class="alert alert-{{ label == 'error' ? 'danger' : label }}" style="margin-top: 10px;">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
    {% endfor %}

    <div class="mb-3">
        {{ form_widget(form.currency) }}
    </div>
    <div class="mb-3">
        <label for="paymentMethod" class="form-label">Payment Method</label>
        {{ form_widget(form.paymentMethod) }}
    </div>
    <div class="row" style="margin-bottom: 1%; display: flex;" id="totalAmount">
        <div class="col-auto ms-auto">
            <div class="card card-custom">
                <div class="card-body text-end">
                    <h5 class="card-title">Total Introducido:</h5>
                    <p class="card-text"><span id="total">0</span>€</p>
                </div>
            </div>
        </div>
    </div>
    <div id="cashPaymentForm" style="display: block;">
        <div class="row">
            <div class="col-2 mb-3">
                <label for="coin500" class="form-label">500€</label>
                <input type="number" class="form-control coin-input" id="coin500" name="coinType[50000]" value="0"
                       min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin200" class="form-label">200€</label>
                <input type="number" class="form-control coin-input" id="coin200" name="coinType[20000]" value="0"
                       min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin100" class="form-label">100€</label>
                <input type="number" class="form-control coin-input" id="coin100" name="coinType[10000]" value="0"
                       min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin50" class="form-label">50€</label>
                <input type="number" class="form-control coin-input" id="coin50" name="coinType[5000]" value="0"
                       min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin20" class="form-label">20€</label>
                <input type="number" class="form-control coin-input" id="coin20" name="coinType[2000]" value="0"
                       min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin10" class="form-label">10€</label>
                <input type="number" class="form-control coin-input" id="coin10" name="coinType[1000]" value="0"
                       min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin5" class="form-label">5€</label>
                <input type="number" class="form-control coin-input" id="coin5" name="coinType[500]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin2" class="form-label">2€</label>
                <input type="number" class="form-control coin-input" id="coin2" name="coinType[200]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin1" class="form-label">1€</label>
                <input type="number" class="form-control coin-input" id="coin1" name="coinType[100]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin050" class="form-label">0.50€</label>
                <input type="number" class="form-control coin-input" id="coin050" name="coinType[50]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin020" class="form-label">0.20€</label>
                <input type="number" class="form-control coin-input" id="coin020" name="coinType[20]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin010" class="form-label">0.10€</label>
                <input type="number" class="form-control coin-input" id="coin010" name="coinType[10]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin005" class="form-label">0.05€</label>
                <input type="number" class="form-control coin-input" id="coin005" name="coinType[5]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin002" class="form-label">0.02€</label>
                <input type="number" class="form-control coin-input" id="coin002" name="coinType[2]" value="0" min="0">
            </div>
            <div class="col-2 mb-3">
                <label for="coin001" class="form-label">0.01€</label>
                <input type="number" class="form-control coin-input" id="coin001" name="coinType[1]" value="0" min="0">
            </div>
        </div>
        <div class="d-grid gap-2">
            <button id="submitCash" type="submit"  class="btn btn-primary">Pay in cash</button>
        </div>
    </div>
    <div id="cardPaymentForm" class="mt-5" style="display: none;">
        <h4>Pay with Card</h4>
        <div class="mb-3">
            <label for="cardNumber" class="form-label">Card Number</label>
            {{ form_widget(form.cardNumber) }}
            {% if form.cardNumber.vars.errors|length > 0 %}
                <div class="text-danger">
                    {{ form_errors(form.cardNumber) }}
                </div>
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="cardExpiry" class="form-label">Expiration date (MM/AA)</label>
            <input type="text" class="form-control" id="cardExpiry" placeholder="MM/AA" required maxlength="5">
        </div>
        <div class="mb-3">
            <label for="cardCVC" class="form-label">CVC</label>
            <input type="text" class="form-control" id="cardCVC" required>
        </div>
        <div class="d-grid gap-2">
            <button id="submitCard" class="btn btn-success">Pay with Card</button>
        </div>
    </div>
</div>
{{ form_end(form) }}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="{{ asset('controllers/checkoutForm.js') }}"></script>
<script>

    document.addEventListener('DOMContentLoaded', function () {
        checkoutForm.init();
    });
</script>
</body>
</html>
